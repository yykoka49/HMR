<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Mines Prediction Tool</title>
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap" rel="stylesheet">
<style>
  :root{
    --bg1: #0f1724;
    --bg2: #071026;
    --glass: rgba(255,255,255,0.06);
    --glass-2: rgba(255,255,255,0.03);
    --accent: #36ffb3;
    --accent-2:#7afcff;
    --danger:#ff4d6d;
    --safe:#46e69a;
    --text:#e6eef8;
    --muted: #9fb0c8;
    --tile-size: 64px;
  }

  /* Light theme variants (toggle with .light on body) */
  body.light{
    --bg1: #f3f7fb;
    --bg2: #e8f1fb;
    --glass: rgba(255,255,255,0.7);
    --glass-2: rgba(255,255,255,0.8);
    --text: #071427;
    --muted: #567089;
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family:'Inter',system-ui,Arial;
    color:var(--text);
    background: linear-gradient(120deg,var(--bg1),var(--bg2));
    overflow-x:hidden;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:32px 16px;
    transition:background 500ms linear, color 200ms linear;
  }

  /* Animated slow gradient background */
  @keyframes bgShift {
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
  }
  body::before{
    content:'';
    position:fixed; inset:0;
    background: radial-gradient(600px circle at 10% 20%, rgba(122,214,255,0.06), transparent 6%),
                radial-gradient(500px circle at 80% 80%, rgba(54,255,179,0.04), transparent 6%);
    pointer-events:none;
    z-index:0;
    mix-blend-mode: overlay;
  }

  .app{
    position:relative;
    z-index:1;
    width:100%;
    max-width:980px;
    margin:auto;
    padding:28px;
    border-radius:14px;
    backdrop-filter: blur(10px) saturate(120%);
    background: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    box-shadow: 0 10px 40px rgba(3,8,23,0.6), 0 2px 0 rgba(255,255,255,0.02) inset;
    border: 1px solid rgba(255,255,255,0.04);
  }

  .top-row{
    display:flex;
    gap:12px;
    align-items:center;
    justify-content:space-between;
    margin-bottom:18px;
    flex-wrap:wrap;
  }

  .title{
    display:flex;
    gap:12px;
    align-items:center;
  }
  .logo{
    width:54px;
    height:54px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:800;
    font-size:20px;
    border-radius:12px;
    background: linear-gradient(135deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
    border:1px solid rgba(255,255,255,0.03);
    box-shadow: 0 6px 18px rgba(0,0,0,0.3), 0 0 18px rgba(58,201,255,0.02) inset;
  }

  h1{
    margin:0;
    font-size:20px;
    letter-spacing:0.2px;
  }
  .platform-badge{
    font-size:14px;
    color:var(--muted);
  }

  .controls{
    display:flex;
    gap:10px;
    align-items:center;
    flex-wrap:wrap;
  }

  .select, .input, .btn, .toggle{
    border-radius:10px;
    padding:10px 12px;
    border:1px solid rgba(255,255,255,0.04);
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    color:var(--text);
    outline:none;
    transition:transform 150ms ease, box-shadow 150ms ease;
    font-size:14px;
    min-height:44px;
  }
  .select:focus, .input:focus{ transform:translateY(-2px); box-shadow:0 8px 24px rgba(0,0,0,0.35) }
  .input{ min-width:200px; padding-right:12px; }

  .select{
    appearance:none;
    -webkit-appearance:none;
  }

  .btn{
    cursor:pointer;
    user-select:none;
  }

  .btn-primary{
    background: linear-gradient(90deg,#5ef6c6 0%, #2ecde0 100%);
    color:#02202a;
    font-weight:700;
    box-shadow: 0 8px 30px rgba(46,205,224,0.16);
    border: none;
  }
  .btn-secondary{
    background: linear-gradient(90deg,#ff7c8a 0%, #ff4d6d 100%);
    color:white;
    font-weight:700;
    border:none;
  }

  .btn:active{ transform:translateY(1px) scale(0.998) }

  .layout{
    display:flex;
    gap:24px;
    align-items:flex-start;
    margin-top:8px;
    flex-wrap:wrap;
  }

  /* Left column: grid */
  .grid-wrap{
    flex:1 1 460px;
    min-width:260px;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:18px;
  }
  .grid{
    width: min(480px, 92vw);
    aspect-ratio:1/1;
    display:grid;
    grid-template-columns: repeat(5, 1fr);
    gap:10px;
    align-items:center;
    justify-items:center;
    padding:18px;
    border-radius:16px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.03);
    box-shadow: 0 10px 30px rgba(2,6,22,0.6);
  }

  .tile{
    width:100%;
    padding-top:100%;
    position:relative;
    border-radius:10px;
    background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(0,0,0,0.02));
    border:1px solid rgba(255,255,255,0.03);
    cursor:pointer;
    transform-origin:center;
    transition: transform 200ms ease, box-shadow 200ms ease, filter 250ms ease;
    box-shadow: 0 6px 16px rgba(0,0,0,0.5);
    overflow:visible;
  }
  .tile .inner{
    position:absolute; inset:8%;
    border-radius:8px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:20px;
    user-select:none;
    transform:translateZ(0);
    transition: transform 220ms cubic-bezier(.2,.9,.3,1), opacity 220ms ease;
    color:var(--muted);
  }
  .tile:hover{ transform: translateY(-6px) scale(1.01); box-shadow: 0 20px 40px rgba(0,0,0,0.55) }
  .tile:active{ transform: translateY(0) scale(.995) }

  /* reveal animations */
  @keyframes popIn {
    0%{ transform: scale(.6) translateY(6px); opacity:0 }
    60%{ transform: scale(1.05) translateY(-4px); opacity:1 }
    100%{ transform: scale(1) translateY(0); }
  }
  .tile.revealed .inner{
    animation: popIn 360ms cubic-bezier(.2,.9,.25,1) both;
    color: white;
    font-size:22px;
  }

  /* safe and bomb styling */
  .tile.safe .inner{
    background: linear-gradient(180deg, rgba(70,230,154,0.18), rgba(70,230,154,0.06));
    box-shadow: 0 8px 28px rgba(70,230,154,0.12), 0 0 18px rgba(70,230,154,0.12) inset;
    color: #e9fffb;
    border-radius:8px;
  }
  .tile.bomb .inner{
    background: linear-gradient(180deg, rgba(255,77,109,0.12), rgba(255,77,109,0.04));
    box-shadow: 0 8px 28px rgba(255,77,109,0.12), 0 0 18px rgba(255,77,109,0.06) inset;
    color: #fff8f9;
    border-radius:8px;
  }

  /* glowing effect */
  @keyframes gentleGlow {
    0%{ box-shadow: 0 0 6px rgba(70,230,154,0.12), 0 0 18px rgba(70,230,154,0.04) }
    50%{ box-shadow: 0 0 18px rgba(70,230,154,0.28), 0 0 34px rgba(70,230,154,0.12) }
    100%{ box-shadow: 0 0 6px rgba(70,230,154,0.12), 0 0 18px rgba(70,230,154,0.04) }
  }
  @keyframes dangerPulse {
    0%{ box-shadow: 0 0 6px rgba(255,77,109,0.08) }
    50%{ box-shadow: 0 0 18px rgba(255,77,109,0.22) }
    100%{ box-shadow: 0 0 6px rgba(255,77,109,0.08) }
  }

  .tile.safe .inner.glow{ animation: gentleGlow 1.8s ease-in-out infinite; }
  .tile.bomb .inner.glow{ animation: dangerPulse 1.2s ease-in-out infinite; }

  /* right panel: actions and info */
  .side{
    width:320px;
    min-width:240px;
    display:flex;
    flex-direction:column;
    gap:12px;
    align-items:stretch;
  }
  .panel{
    padding:12px;
    border-radius:12px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid rgba(255,255,255,0.03);
  }
  .platform-name{
    font-size:14px;
    color:var(--muted);
    margin-bottom:6px;
  }
  .big{
    font-size:18px;
    font-weight:600;
  }
  .row{ display:flex; gap:8px; align-items:center; }

  .join-btn{
    display:flex;
    align-items:center;
    gap:10px;
    padding:10px 14px;
    border-radius:10px;
    color:white;
    text-decoration:none;
    font-weight:700;
    box-shadow: 0 8px 20px rgba(0,0,0,0.35);
    transition: transform 150ms ease, opacity 150ms ease;
  }
  .join-btn svg{ width:18px; height:18px; display:block }

  .tg{
    background: linear-gradient(90deg,#2c9df2 0%, #1b7fe0 100%);
  }
  .yt{
    background: linear-gradient(90deg,#ff6b6b 0%, #ff3b3b 100%);
  }
  .join-btn:hover{ transform:translateY(-4px) scale(1.01); opacity:0.98 }

  /* footer */
  footer{
    margin-top:18px;
    text-align:center;
    color:var(--muted);
    font-size:13px;
  }

  /* small screens */
  @media (max-width:820px){
    .layout{ flex-direction:column-reverse; gap:16px }
    .side{ width:100% }
    .grid-wrap{ padding:8px }
  }

  /* tiny: adjust tile size */
  @media (max-width:420px){
    :root{ --tile-size:48px }
    h1{ font-size:18px }
  }

  /* small helper text */
  .muted{ color:var(--muted); font-size:13px }

  /* toggle */
  .toggle{
    display:inline-flex;
    align-items:center;
    gap:8px;
    cursor:pointer;
  }
  .toggle input{ display:none }
  .switch{
    width:48px; height:28px; border-radius:18px;
    background:rgba(255,255,255,0.06); position:relative; transition:background 200ms;
    border:1px solid rgba(255,255,255,0.03)
  }
  .knob{
    width:20px; height:20px; background:white; border-radius:50%;
    position:absolute; top:4px; left:4px; transition:left 160ms cubic-bezier(.2,.9,.25,1)
  }
  input:checked + .switch{ background: linear-gradient(90deg,#36ffb3,#7afcff) }
  input:checked + .switch .knob{ left:24px; background:#012022 }

  /* small status */
  .status{
    font-size:13px;
    color:var(--muted);
  }

  /* platform chips list (dropdown companion styling) */
  .small-muted{ font-size:12px; color:var(--muted) }
</style>
</head>
<body>
  <div class="app" role="application" aria-label="Mines Prediction Tool">
    <div class="top-row">
      <div class="title">
        <div class="logo">MP</div>
        <div>
          <h1 id="titleText">Mines Prediction Tool</h1>
          <div class="platform-badge">Platform: <span id="displayPlatform">Stake</span></div>
        </div>
      </div>

      <div class="controls">
        <select id="platformSelect" class="select" aria-label="Select game platform">
          <option>Stake</option>
          <option>1win</option>
          <option>Tashan Win</option>
          <option>Bet365</option>
        </select>

        <input id="seedInput" class="input" placeholder="Enter Your Seeds" aria-label="Seed input" />

        <label class="toggle" title="Light / Dark mode">
          <input id="themeToggle" type="checkbox" />
          <div class="switch" aria-hidden="true"><div class="knob"></div></div>
          <div class="small-muted">Light</div>
        </label>
      </div>
    </div>

    <div class="layout">
      <div class="grid-wrap">
        <div class="grid" id="grid" role="grid" aria-label="5 by 5 mines grid">
          <!-- 25 tiles injected by JS -->
        </div>
      </div>

      <div class="side">
        <div class="panel">
          <div class="platform-name">Selected Platform</div>
          <div class="big" id="selectedPlatformBig">Stake</div>
          <div style="height:8px"></div>
          <div class="muted">Seed used for prediction (affects randomness)</div>
          <div style="height:8px"></div>
          <div class="row" style="gap:8px;">
            <button id="predictBtn" class="btn btn-primary" aria-label="Predict Safe Mines">Predict Safe Mines</button>
            <button id="resetBtn" class="btn" style="background:transparent;border:1px solid rgba(255,255,255,0.04);">Reset Game</button>
          </div>
          <div style="height:10px"></div>
          <div class="muted">Quick actions</div>
          <div style="height:10px"></div>
          <div class="row">
            <a id="joinTG" class="join-btn tg" href="#" role="button" aria-label="Join Telegram">
              <!-- Telegram SVG -->
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M3 12.5L21 4L15 21L11.25 13.5L8 16L3 12.5Z" fill="white"/>
              </svg>
              Join Telegram
            </a>
            <a id="joinYT" class="join-btn yt" href="#" role="button" aria-label="Join YouTube">
              <!-- YouTube SVG -->
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M10 15L15 12L10 9V15Z" fill="white"/>
                <rect x="2" y="5" width="20" height="14" rx="3" fill="white" opacity="0.12"/>
              </svg>
              Join YouTube
            </a>
          </div>
        </div>

        <div class="panel">
          <div class="muted">Legend</div>
          <div style="display:flex;gap:10px;margin-top:8px;flex-wrap:wrap;">
            <div style="display:flex;gap:8px;align-items:center;">
              <div style="width:18px;height:18px;border-radius:4px;background:linear-gradient(180deg,rgba(70,230,154,0.18),rgba(70,230,154,0.06));box-shadow:0 0 10px rgba(70,230,154,0.12)"></div> Safe (ðŸ’Ž)
            </div>
            <div style="display:flex;gap:8px;align-items:center;">
              <div style="width:18px;height:18px;border-radius:4px;background:linear-gradient(180deg,rgba(255,77,109,0.12),rgba(255,77,109,0.04));box-shadow:0 0 10px rgba(255,77,109,0.12)"></div> Unsafe (ðŸ’£)
            </div>
          </div>
          <div style="height:10px"></div>
          <div class="status" id="statusLine">Ready â€” enter a seed and press "Predict Safe Mines"</div>
        </div>
      </div>
    </div>

    <footer>âš¡ Created by Fun Education</footer>
  </div>

<script>
  /* Utility: deterministic RNG from seed string (good enough for selection) */
  function cyrb128(str) {
    let h1 = 1779033703, h2 = 3144134277, h3 = 1013904242, h4 = 2773480762;
    for (let i = 0; i < str.length; i++) {
      const k = str.charCodeAt(i);
      h1 = (h2 ^ Math.imul(h1 ^ k, 597399067)) >>> 0;
      h2 = (h3 ^ Math.imul(h2 ^ k, 2869860233)) >>> 0;
      h3 = (h4 ^ Math.imul(h3 ^ k, 951274213)) >>> 0;
      h4 = (h1 ^ Math.imul(h4 ^ k, 2716044179)) >>> 0;
    }
    h1 = Math.imul(h3 ^ (h1 >>> 18), 597399067) >>> 0;
    h2 = Math.imul(h4 ^ (h2 >>> 22), 2869860233) >>> 0;
    h3 = Math.imul(h1 ^ (h3 >>> 17), 951274213) >>> 0;
    h4 = Math.imul(h2 ^ (h4 >>> 19), 2716044179) >>> 0;
    return [(h1 ^ h2 ^ h3 ^ h4) >>> 0, h2, h3, h4];
  }
  function mulberry32(a) {
    return function() {
      let t = (a += 0x6D2B79F5) | 0;
      t = Math.imul(t ^ (t >>> 15), t | 1);
      t ^= t + Math.imul(t ^ (t >>> 7), t | 61);
      return ((t ^ (t >>> 14)) >>> 0) / 4294967296;
    }
  }

  const gridEl = document.getElementById('grid');
  const platformSelect = document.getElementById('platformSelect');
  const displayPlatform = document.getElementById('displayPlatform');
  const selectedPlatformBig = document.getElementById('selectedPlatformBig');
  const seedInput = document.getElementById('seedInput');
  const predictBtn = document.getElementById('predictBtn');
  const resetBtn = document.getElementById('resetBtn');
  const statusLine = document.getElementById('statusLine');
  const themeToggle = document.getElementById('themeToggle');
  const body = document.body;

  // create 25 tiles
  const TILES = 25;
  function createGrid() {
    gridEl.innerHTML = '';
    for (let i=0;i<TILES;i++){
      const tile = document.createElement('div');
      tile.className = 'tile';
      tile.setAttribute('data-index', i);
      tile.setAttribute('role','gridcell');
      tile.setAttribute('aria-label','Hidden tile');
      const inner = document.createElement('div');
      inner.className = 'inner';
      inner.textContent = ''; // initially blank
      tile.appendChild(inner);
      gridEl.appendChild(tile);

      // Allow manual reveal when clicking â€” but main reveal comes from Predict
      tile.addEventListener('click', ()=>{
        if (!tile.classList.contains('revealed')) {
          // reveal as neutral (unknown) - small local reveal effect
          tile.classList.add('revealed');
          inner.textContent = 'â“';
          setTimeout(()=> { if (!tile.classList.contains('safe') && !tile.classList.contains('bomb')) {
            inner.textContent = '';
            tile.classList.remove('revealed');
          }}, 700);
        }
      });
    }
  }
  createGrid();

  // update platform display
  platformSelect.addEventListener('change', ()=>{
    const val = platformSelect.value;
    displayPlatform.textContent = val;
    selectedPlatformBig.textContent = val;
  });

  // theme toggle
  themeToggle.addEventListener('change', ()=>{
    if (themeToggle.checked) body.classList.add('light'); else body.classList.remove('light');
  });

  // seeded selection algorithm: shuffle indices with seed
  function pickIndices(seedStr) {
    // Use seedStr concatenated with timestamp? No â€” for deterministic we use only seed string
    let seedSource = seedStr || String(Math.random());
    const hashed = cyrb128(seedSource)[0];
    const rng = mulberry32(hashed);
    // create array 0..24
    const arr = Array.from({length:TILES}, (_,i)=>i);
    // Fisher-Yates shuffle using rng
    for (let i=arr.length-1;i>0;i--){
      const j = Math.floor(rng()*(i+1));
      [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    // first 5 are safe
    const safe = arr.slice(0,5).sort((a,b)=>a-b);
    const bomb = arr.slice(5).sort((a,b)=>a-b);
    return {safe, bomb};
  }

  function revealResults(safeIdxs, bombIdxs){
    // Clear previous first
    clearGridHighlights();

    // reveal bombs and safe with small delays for pop effect
    // show bombs (red) and safes (green)
    bombIdxs.forEach((i, idx) => {
      const tile = gridEl.querySelector(`.tile[data-index="${i}"]`);
      if (!tile) return;
      setTimeout(()=> {
        tile.classList.add('revealed','bomb');
        tile.querySelector('.inner').textContent = 'ðŸ’£';
        // add glow class after reveal for animated glow
        setTimeout(()=> tile.querySelector('.inner').classList.add('glow'), 60);
      }, 40*idx + 60); // stagger
    });

    safeIdxs.forEach((i, idx) => {
      const tile = gridEl.querySelector(`.tile[data-index="${i}"]`);
      if (!tile) return;
      setTimeout(()=> {
        tile.classList.add('revealed','safe');
        tile.querySelector('.inner').textContent = 'ðŸ’Ž';
        setTimeout(()=> tile.querySelector('.inner').classList.add('glow'), 40);
      }, 40*idx + 220); // ensure safes pop slightly after bombs (visual order)
    });
  }

  function clearGridHighlights(){
    const tiles = gridEl.querySelectorAll('.tile');
    tiles.forEach(t=>{
      t.classList.remove('revealed','safe','bomb');
      const inner = t.querySelector('.inner');
      inner.classList.remove('glow');
      inner.textContent = '';
    });
  }

  // Predict button action
  predictBtn.addEventListener('click', ()=>{
    const seed = seedInput.value.trim();
    const platform = platformSelect.value;
    // If seed empty provide a random seed but show to user
    const usedSeed = seed || String(Date.now()) + '-' + Math.floor(Math.random()*1e6);
    // compute indices
    const {safe, bomb} = pickIndices(usedSeed);
    // update status
    statusLine.textContent = `Predicted 5 safe mines with seed "${usedSeed}" on ${platform}`;
    revealResults(safe, bomb);
  });

  resetBtn.addEventListener('click', ()=>{
    clearGridHighlights();
    statusLine.textContent = 'Game reset â€” enter a seed and press "Predict Safe Mines"';
  });

  // prevent join buttons from navigating away accidentally (placeholder)
  document.getElementById('joinTG').addEventListener('click', (e)=>{
    e.preventDefault();
    // open link - you can replace with your telegram channel link
    window.open('https://t.me/', '_blank');
  });
  document.getElementById('joinYT').addEventListener('click', (e)=>{
    e.preventDefault();
    // open link - replace with your youtube channel link
    window.open('https://www.youtube.com/', '_blank');
  });

  // keyboard accessibility: Enter on seed input triggers predict
  seedInput.addEventListener('keydown', (e)=> {
    if (e.key === 'Enter') predictBtn.click();
  });

  // initial small UI animation: reveal a few random tiles subtly
  (function initialGlow(){
    const randomTiles = Array.from({length:4}, ()=> Math.floor(Math.random()*TILES));
    randomTiles.forEach((i, idx) => {
      const t = gridEl.querySelector(`.tile[data-index="${i}"]`);
      if (!t) return;
      setTimeout(()=> {
        const inner = t.querySelector('.inner');
        t.classList.add('revealed');
        inner.textContent = 'â–';
        setTimeout(()=> { t.classList.remove('revealed'); inner.textContent=''; }, 900 + idx*120);
      }, 200 + idx*120);
    });
  })();

  // set initial displayed platform
  displayPlatform.textContent = platformSelect.value;
  selectedPlatformBig.textContent = platformSelect.value;

  // small UX: mobile-friendly fine-tuning
  (function responsiveFont(){
    if (window.innerWidth < 420) {
      document.getElementById('titleText').style.fontSize = '16px';
    }
  })();
</script>
</body>
  </html>
